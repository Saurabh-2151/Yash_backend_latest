# ===================
# SERVER SETTINGS
# ===================
server.port=8080

# Increase timeout for large file downloads
server.servlet.session.timeout=30m
server.tomcat.max-http-form-post-size=50MB
server.tomcat.max-swallow-size=50MB

# =========================
# DATABASE CONFIG (MYSQL)
# =========================
spring.datasource.url=jdbc:mysql://localhost:3308/attendance_db?serverTimezone=UTC&useSSL=false&allowPublicKeyRetrieval=true&useUnicode=true&characterEncoding=utf8&autoReconnect=true&failOverReadOnly=false&maxReconnects=10&zeroDateTimeBehavior=CONVERT_TO_NULL&allowZeroDateTime=true
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection pool settings
spring.datasource.hikari.maximum-pool-size=10

spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.pool-name=SpringBootHikariCP
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=20000

# Use Hibernate to auto-create schema
spring.jpa.hibernate.ddl-auto=update

# =========================
# FILE UPLOAD SETTINGS
# =========================
app.upload.dir=uploads

# Increase max upload size for case documents (e.g. up to 50MB)
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# =========================
# SECURITY
# =========================


# ====================
# SWAGGER (OpenAPI)
# ====================
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# ====================
# MAIL SETTINGS
# ====================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=worldtriplink30@gmail.com
spring.mail.password=gulkawikboqfmhrr
spring.mail.protocol=smtp




spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.enable=false

# ====================
# LOGGING
# ====================
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.http.converter.json=DEBUG
logging.level.com.company.attendance=DEBUG
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=always

# Database connection debugging
logging.level.org.springframework.boot.autoconfigure.jdbc=DEBUG
logging.level.com.zaxxer.hikari=DEBUG

# ====================
# FIREBASE (FCM)
# ====================
# Provide either an absolute path via env var FIREBASE_CREDENTIALS_PATH
# or keep the service account json under classpath (src/main/resources) and set FIREBASE_CREDENTIALS_CLASSPATH.
firebase.credentials.path=${FIREBASE_CREDENTIALS_PATH:}
firebase.credentials.classpath=${FIREBASE_CREDENTIALS_CLASSPATH:zoho-cf081-firebase-adminsdk-fbsvc-18684b62a9.json}
firebase.enabled=${FIREBASE_ENABLED:true}

# ====================
# ENCODING
# ====================
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# ====================
# GEOCODING SERVICE
# ====================
# Options: nominatim (free), google (requires API key)
geocoding.api.provider=google

# Google Maps Geocoding API
geocoding.api.url=https://maps.googleapis.com/maps/api/geocode/json
google.maps.api.key=AIzaSyDuZC6kFobB0pnp-k3VcxQIjvb0EhgfnVI

# OpenStreetMap Nominatim URL (fallback - commented out when using Google)
# geocoding.api.provider=nominatim
# geocoding.api.url=https://nominatim.openstreetmap.org/search

# Rate limiting: requests per second (be respectful to free services)
geocoding.rate.limit=1

